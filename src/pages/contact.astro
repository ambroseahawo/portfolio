---
import Layout from "../layouts/Layout.astro"

const url = Astro.url
const success = url.searchParams.get("success") === "true"
const error = url.searchParams.get("error") === "true"
---

<Layout title="Contact">
  <div class="c4a0m">
    <div class="c8b8k">
      <div class="c7qcc">
        <section>
          <h1 class="cpynq cme53 ciz93">Get in touch</h1>
          <div class="cxslc c2bb0 cr8w3">
            <p class="c5rvt">
              I work with teams on backend architecture, data engineering, and system design challenges. 
              Whether you need consultation on a specific project, help with technical decisions, or want to discuss a collaboration, 
              I'm here to help. Here's what to expect:
            </p>
            <ul class="c9gi4">
              <li class="c9noy cfwvb">
                <svg
                  class="cjnrq chugl csb3e c9ahf cud2d cf4g2 cafn9"
                  viewBox="0 0 12 12"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"
                  ></path>
                </svg>
                <span
                  >Timely responses to technical questions and project inquiries.</span
                >
              </li>
              <li class="c9noy cfwvb">
                <svg
                  class="cjnrq chugl csb3e c9ahf cud2d cf4g2 cafn9"
                  viewBox="0 0 12 12"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"
                  ></path>
                </svg>
                <span
                  >Technical consultation on backend architecture, data pipelines, DevOps, and infrastructure.</span
                >
              </li>
              <li class="c9noy cfwvb">
                <svg
                  class="cjnrq chugl csb3e c9ahf cud2d cf4g2 cafn9"
                  viewBox="0 0 12 12"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"
                  ></path>
                </svg>
                <span
                  >Collaboration on system design, data engineering, and infrastructure projects.</span
                >
              </li>
              <li class="c9noy cfwvb">
                <svg
                  class="cjnrq chugl csb3e c9ahf cud2d cf4g2 cafn9"
                  viewBox="0 0 12 12"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"
                  ></path>
                </svg>
                <span>Direct, technical conversations focused on solving real problems.</span>
              </li>
            </ul>

            <div>
              <div class="!tw-isolate">
                <form
                  id="contact-form"
                  name="contact"
                  method="POST"
                  data-netlify="true"
                  netlify-honeypot="bot-field"
                  action="/contact"
                  class="!tw-mt-8 !tw-max-w-xl sm:!tw-mt-10"
                >
                  <input type="hidden" name="form-name" value="contact" />
                  <p style="display: none">
                    <label>
                      Don't fill this out if you're human: <input
                        name="bot-field"
                      />
                    </label>
                  </p>
                  <div
                    class="!tw-grid !tw-grid-cols-1 !tw-gap-x-8 !tw-gap-y-6 sm:!tw-grid-cols-2"
                  >
                    <div>
                      <label
                        for="first-name"
                        class="!tw-block !tw-text-sm/6 !tw-font-semibold !tw-text-gray-900"
                        >First name</label
                      >
                      <div class="!tw-mt-2.5">
                        <input
                          type="text"
                          name="first-name"
                          id="first-name"
                          autocomplete="given-name"
                          placeholder="First Name"
                          required
                          class="c899y !tw-block !tw-w-full !tw-rounded-md !tw-px-3.5 !tw-py-2 !tw-text-base !tw-text-gray-900 !tw-placeholder:text-gray-400"
                        />
                      </div>
                    </div>
                    <div>
                      <label
                        for="last-name"
                        class="!tw-block !tw-text-sm/6 !tw-font-semibold !tw-text-gray-900"
                        >Last name</label
                      >
                      <div class="!tw-mt-2.5">
                        <input
                          type="text"
                          name="last-name"
                          id="last-name"
                          autocomplete="family-name"
                          placeholder="Last Name"
                          required
                          class="c899y !tw-block !tw-w-full !tw-rounded-md !tw-px-3.5 !tw-py-2 !tw-text-base !tw-text-gray-900 !tw-placeholder:text-gray-400"
                        />
                      </div>
                    </div>
                    <div class="sm:!tw-col-span-2">
                      <label
                        for="company"
                        class="!tw-block !tw-text-sm/6 !tw-font-semibold !tw-text-gray-900"
                        >Company</label
                      >
                      <div class="!tw-mt-2.5">
                        <input
                          type="text"
                          name="company"
                          id="company"
                          autocomplete="organization"
                          placeholder="Company"
                          required
                          class="c899y !tw-block !tw-w-full !tw-rounded-md !tw-px-3.5 !tw-py-2 !tw-text-base !tw-text-gray-900 !tw-placeholder:text-gray-400"
                        />
                      </div>
                    </div>
                    <div class="sm:!tw-col-span-2">
                      <label
                        for="email"
                        class="!tw-block !tw-text-sm/6 !tw-font-semibold !tw-text-gray-900"
                        >Email</label
                      >
                      <div class="!tw-mt-2.5">
                        <input
                          type="email"
                          name="email"
                          id="email"
                          autocomplete="email"
                          placeholder="Email"
                          required
                          class="c899y !tw-block !tw-w-full !tw-rounded-md !tw-px-3.5 !tw-py-2 !tw-text-base !tw-text-gray-900 !tw-placeholder:text-gray-400"
                        />
                        <div
                          id="email-error"
                          class="!tw-mt-1 !tw-text-sm !tw-text-red-600"
                          style="display: none;"
                        >
                        </div>
                      </div>
                    </div>
                    <div class="sm:!tw-col-span-2">
                      <label
                        for="phone-number"
                        class="!tw-block !tw-text-sm/6 !tw-font-semibold !tw-text-gray-900"
                        >Phone number</label
                      >
                      <div class="!tw-mt-2.5">
                        <div
                          class="!tw-flex !tw-rounded-md !tw-bg-white has-[input:focus-within]:!tw-outline-2 has-[input:focus-within]:-!tw-outline-offset-2 has-[input:focus-within]:!tw-outline-indigo-600"
                        >
                          <div
                            class="!tw-grid !tw-shrink-0 !tw-grid-cols-1 focus-within:!tw-relative"
                          >
                            <select
                              id="country"
                              name="country"
                              autocomplete="country"
                              aria-label="Country"
                              required
                              class="c899y !tw-col-start-1 !tw-row-start-1 !tw-w-full !tw-appearance-none !tw-rounded-none !tw-py-2 !tw-pr-7 !tw-pl-3.5 !tw-text-base !tw-text-gray-500 !tw-placeholder:text-gray-400 sm:!tw-text-sm/6"
                            >
                              <option>US</option>
                              <option>CA</option>
                              <option>EU</option>
                            </select>
                          </div>
                          <input
                            type="tel"
                            name="phone-number"
                            id="phone-number"
                            class="c899y !tw-rounded-none !tw-block !tw-min-w-0 !tw-grow !tw-py-1.5 !tw-pr-3 !tw-pl-1 !tw-text-base !tw-text-gray-900 !tw-placeholder:text-gray-400 focus:!tw-outline-none sm:!tw-text-sm/6"
                            placeholder="+1234567890 or 1234567890"
                            pattern="[0-9\s\+\-\(\)]{7,20}"
                            required
                          />
                        </div>
                        <div
                          id="phone-error"
                          class="!tw-mt-1 !tw-text-sm !tw-text-red-600"
                          style="display: none;"
                        >
                        </div>
                      </div>
                    </div>
                    <div class="sm:!tw-col-span-2">
                      <label
                        for="message"
                        class="!tw-block !tw-text-sm/6 !tw-font-semibold !tw-text-gray-900"
                        >Message</label
                      >
                      <div class="!tw-mt-2.5">
                        <textarea
                          name="message"
                          id="message"
                          rows="4"
                          placeholder="Send a message"
                          required
                          class="c899y !tw-block !tw-w-full !tw-rounded-xl !tw-px-3.5 !tw-py-2 !tw-text-base !tw-text-gray-900 !tw-placeholder:text-gray-400"
                        ></textarea>
                      </div>
                    </div>
                  </div>
                  <div class="!tw-mt-10">
                    <button
                      type="submit"
                      id="submit-button"
                      disabled
                      class="cwlj7 czzu3 craoz chuke !tw-block !tw-w-full !tw-rounded-md !tw-px-3.5 !tw-py-2.5 !tw-text-center !tw-text-sm !tw-font-semibold !tw-text-white !tw-shadow-xs focus-visible:!tw-outline-2 focus-visible:!tw-outline-offset-2 disabled:!tw-opacity-50 disabled:!tw-cursor-not-allowed"
                      >Let's talk</button
                    >
                  </div>
                </form>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <div
    id="success-modal"
    class="!tw-fixed !tw-inset-0 !tw-z-50 !tw-flex !tw-items-center !tw-justify-center !tw-bg-black !tw-bg-opacity-50 !tw-p-4 !tw-opacity-0 !tw-pointer-events-none !tw-transition-opacity !tw-duration-300"
    style="display: none;"
  >
    <div
      class="!tw-bg-white !tw-rounded-lg !tw-shadow-xl !tw-max-w-md !tw-w-full !tw-p-4 sm:!tw-p-6 !tw-transform !tw-translate-y-4 !tw-transition-transform !tw-duration-300"
      id="success-modal-content"
    >
      <div
        class="!tw-flex !tw-items-center !tw-justify-center !tw-mb-3 sm:!tw-mb-4"
      >
        <div
          class="!tw-w-12 !tw-h-12 sm:!tw-w-16 sm:!tw-h-16 !tw-bg-green-100 !tw-rounded-full !tw-flex !tw-items-center !tw-justify-center"
        >
          <svg
            class="!tw-w-6 !tw-h-6 sm:!tw-w-8 sm:!tw-h-8 !tw-text-green-600"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
      </div>
      <h3
        class="!tw-text-lg sm:!tw-text-xl !tw-font-semibold !tw-text-gray-900 !tw-text-center !tw-mb-2"
      >
        Message Sent!
      </h3>
      <p
        class="!tw-text-sm sm:!tw-text-base !tw-text-gray-600 !tw-text-center !tw-mb-4 sm:!tw-mb-6"
      >
        Thank you for reaching out. We'll get back to you soon.
      </p>
      <button
        id="close-success-modal"
        class="cwlj7 czzu3 craoz chuke !tw-block !tw-w-full !tw-rounded-md !tw-px-3.5 !tw-py-2.5 !tw-text-center !tw-text-sm !tw-font-semibold !tw-text-white !tw-shadow-xs focus-visible:!tw-outline-2 focus-visible:!tw-outline-offset-2"
      >
        Close
      </button>
    </div>
  </div>

  <div
    id="error-modal"
    class="!tw-fixed !tw-inset-0 !tw-z-50 !tw-flex !tw-items-center !tw-justify-center !tw-bg-black !tw-bg-opacity-50 !tw-p-4 !tw-opacity-0 !tw-pointer-events-none !tw-transition-opacity !tw-duration-300"
    style="display: none;"
  >
    <div
      class="!tw-bg-white !tw-rounded-lg !tw-shadow-xl !tw-max-w-md !tw-w-full !tw-p-4 sm:!tw-p-6 !tw-transform !tw-translate-y-4 !tw-transition-transform !tw-duration-300"
      id="error-modal-content"
    >
      <div
        class="!tw-flex !tw-items-center !tw-justify-center !tw-mb-3 sm:!tw-mb-4"
      >
        <div
          class="!tw-w-12 !tw-h-12 sm:!tw-w-16 sm:!tw-h-16 !tw-bg-red-100 !tw-rounded-full !tw-flex !tw-items-center !tw-justify-center"
        >
          <svg
            class="!tw-w-6 !tw-h-6 sm:!tw-w-8 sm:!tw-h-8 !tw-text-red-600"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </div>
      </div>
      <h3
        class="!tw-text-lg sm:!tw-text-xl !tw-font-semibold !tw-text-gray-900 !tw-text-center !tw-mb-2"
      >
        Failed
      </h3>
      <p
        class="!tw-text-sm sm:!tw-text-base !tw-text-gray-600 !tw-text-center !tw-mb-4 sm:!tw-mb-6"
      >
        An error occurred. Please try again later.
      </p>
      <button
        id="close-error-modal"
        class="cwlj7 czzu3 craoz chuke !tw-block !tw-w-full !tw-rounded-md !tw-px-3.5 !tw-py-2.5 !tw-text-center !tw-text-sm !tw-font-semibold !tw-text-white !tw-shadow-xs focus-visible:!tw-outline-2 focus-visible:!tw-outline-offset-2"
      >
        Close
      </button>
    </div>
  </div>
</Layout>

<script is:inline>
  if (
    window.location.search.includes("success=true") ||
    window.location.search.includes("error=true")
  ) {
    window.history.replaceState(
      {},
      "",
      window.location.pathname + window.location.search
    )
  }
</script>
<script is:inline src="/scripts/contact.js"></script>
